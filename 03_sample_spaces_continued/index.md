---
layout: lecture
title: Sample spaces, continued
date: Monday, February 8, 1999
transcriber: Yvonne Lai and David Wang
---

Recall that $\Omega$ represents the sample space, our universe of
discourse. $\Omega$ also contains $\cal{E}$, a family of events.

A family of subsets of $\Omega$ is a Boolean Algebra.

That is, if $A, B \in \cal{E}$; $A^{c}, A \cap B, $ and $A \cup B \in
\cal{E}$, then the Countability Axiom implies a Boolean Sigma Algebra.

Boolean Sigma Algebra: Boolean Algebra with the additional property:
if $A_1, A_2, \ldots \in \cal{E}$ and are disjoint, then $A_1 \cup A_2
\cup \ldots \in \cal{E}$.

The events of a sample space form a Boolean Sigma Algebra.

*Example:* A Boolean Algebra which is not a Boolean Sigma Algebra (Contrived)

* $\Omega = \{1, 2, 3 \ldots\}$
* ${\cal E} = \text{ The Boolean Algebra generated by all finite subsets of } \Omega$.

Note: $\cal E$ contains all finite subsets of $\Omega$ and cofinite
set of each finite subset.  These cofinite sets can be infinite, but
$\cal{E}$ does not contain all infinite sets.  Namely, the infinite
set of all even numbers is not included since it cannot be the
cofinite set of any finite subset of $\Omega$.

Probability $P : \cal{E}$ $\rightarrow$ [0, 1]
subject to assumptions (previous lecture's 3 defined points)

Some non-trivial properties of probability:

$$
\begin{eqnarray*}
P(A_1 \cup A_2) &=& P(A_1) + P(A_2) - P(A_1 \cap A_2)\\
A_1 \cup A_2 &=& (A_1 \cap {A_2}^{c}) \cup (A_1 \cap A_2) \cup (A_2 \cap {A_1}^{c})\\
P(A_1 \cup A_2) &=& P(A_1 \cap {A_2}^{c}) + P(A_1 \cap A_2) + P(A_2 \cap {A_1}^{c})\\
P(A_1) &=& P(A_1 \cap {A_2}^{c}) + P(A_1 \cap A_2)\\
P(A_2) &=& P(A_2 \cap {A_1}^{c}) + P(A_2 \cap A_1)
\end{eqnarray*}
$$

Add $P(A_1)$ and $P(A_2)$, subtract $P(A_2 \cap A_1)$ because it's
duplicated, and get the conclusion.

Likewise:

$$
\begin{eqnarray*}
P(B_1 \cup B_2 \cup B_3) &=& P(B_1) + P(B_2 \cup B_3) - P(B_1 \cap (B_2 \cup B_3))\\
&=& P(B_1) + P(B_2) + P(B_3) - P(B_2 \cap B_3) - P((B_1 \cap B-2) \cup (B_1 \cap B_3))\\
&=& P(B_1) + P(B_2) + P(B_3) - P(B_2 \cap B_3) - P(B_1 \cap B_2) \\
& & - P(B_1 \cap B_3) + P(B_1 \cap B_2 \cap B_3)
\end{eqnarray*}
$$

Note:

1. Treat $B_1$ as $A_1$ and $(B_2 \cup B_3)$ as $A_2$ in previous example to begin
2. $P(B_1 \cap B_2 \cap B_3) = P(B_1 \cap B_2 \cap B_2 \cap B_3)$

The result we got for $P(B_1 \cup B_2 \cup B_3)$ is cute.  But you
ain't seen nothing yet!  Let us now do the probability for any $n$
events.

More generally, we have the Inclusion-Exclusion Principle:

$$
\begin{eqnarray*}
P(A_1 \cup A_2 \cup \ldots \cup A_{n-1} \cup A_n) &=& \sum_{i=1, 2, \ldots, n} P(A_i) \\
& & - \sum_{1 <= i < j <= n} P(A_i \cap A_j) \\
& & + \sum_{1 <=i<j<k<= n} P(A_i \cap A_j \cap A_k) - \ldots
\end{eqnarray*}
$$

We use proof by induction to solve:

The base case has been shown already.  All that remains is to assume
that it has been proven for the $(n-1)^{th}$ case, and to prove that
it can be extended to the $n^{th}$ case.

Assume the equation is true for $P(B_1 \cup B_2 \cup \ldots \cup
B_{n-1})$.

Let $B_1 = A_1, B_2 = A_2, \ldots B\_{n-2} = A\_{n-2}, B\_{n-1} =
A\_{n-1} \cup A_n$.  Simplify.  The proof works.

*Example*: Let $\Omega$ be all the permutations of the natural numbers
1 through n.

* There are thus n! permutations (as you have known since
  childhood): $P(\omega) = \frac {1}{n!}$
* $A = \text{event that a permutation has no fixed points}$.
  What is $P(A)$?

Before solving this, we try to visualize the problem, using two decks of n cards, one of which is ordered, the other of which has been shuffled.  The problem can be restated as follows:\\
What is the probability that no two cards in the same position in the deck have the same value? 

Now, an astonishing fact - the probablity we are about to calculate has practically no dependence on n. (!)

The calculation: \\
Let $A_1$ = event that $\omega(1) = 1$\\
Let $A_2$ = event that $\omega(2) = 2$\\
$\ldots$\\
Let $A_n$ = event that $\omega(n) = n$

Then,

$$
\begin{eqnarray*}
P(A_k) &=& \frac {(n-1)!}{n!}\\
P(A_1 \cap A_2) &=& \frac {(n-2)!}{n!}
\end{eqnarray*}
$$

Similarly,

$$
\begin{eqnarray*}
P(A_i \cap A_j) &=& \frac {(n-2)!}{n!}, i \neq j\\
\ldots\\
P(A_1 \cap A_2 \cap \ldots \cap A_k) &=& \frac {(n-k)!}{n!}
\end{eqnarray*}
$$

What is $A$? $A = (A_1 \cup A_2 \cup \ldots \cup A_n)^{c}$  - we've got it!

Using the inclusion-exclusion principle:

$$
\begin{eqnarray*}
P(A) &=& 1 - P(A_1 \cup A_2 \cup \ldots \cup A_n)^c \\
&=& \sum_{i=1, 2, \ldots, n} P(A_i) - \sum_{1 <= i < j <= n} P(A_i \cap A_j) + \sum_{1 <=i<j<k<= n} P(A_i \cap A_j \cap A_k)
- \ldots \text{(*)}
\end{eqnarray*}
$$

Note that a set of n elements has $\frac{n!}{k!(n-k)!}$ subsets with k
elements.  Simplifying (*) with this,

$$
\begin{eqnarray*}
P(A) &=& 1 - (n)(\frac{1}{n}) + (\frac {n!}{2!(n-2)!})(\frac{1}{(n)(n-1)} - (\frac {n!}{3!(n-3)!})(\frac{1}{(n)(n-1)(n-2)} + \ldots\\
&=& 1 - 1 + \frac{1}{2!} - \frac{1}{3!} + \ldots + \frac{1}{n!}
\end{eqnarray*}
$$

This series will eventually converge to the Taylor series for $\frac {1}{e}$.

Inspiration for a Research Problem:

We've just solved the problem of the probability of a fixed point in two decks.  The solution for three decks and four decks have been found.  But NO ONE has found the solution for five decks or more...
